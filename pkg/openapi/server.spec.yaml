openapi: 3.0.3
info:
  title: Region Service API
  description: |-
    Cloud region discovery and routing service.  This is service not intended for direct access
    by end users.  Region related functionality is typically exposed by higher level services
    e.g. Compute and Kubernetes, that provide subsets of resources that are compatible with
    that service.
  version: 1.12.0
paths:
  /api/v1/organizations/{organizationID}/regions:
    description: |-
      Regions define a cloud.  This may be geographical or any logical partition.
      Either way, this is the primitive that is used to associate metadata such as
      geographical locale, an organization's reserved blob of compute etc.
      Each region has its own provider associated with it, for example OpenStack, and
      its own set of credentials so things can be scoped to a specific slice of a
      shared cloud through whatever mechanism is available on that cloud provider.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    get:
      x-hidden: true
      description: |-
        List all regions.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/regionsResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/detail:
    description: |-
      Retrieves admin-level region details.
      This API is intentionally separate from the main list regions API to limit
      unintentional leakage of sensitive credentials.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    get:
      x-hidden: true
      description: |-
        Get a detailed view of the region.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/regionDetailResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/flavors:
    description: Compute flavor services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    get:
      x-hidden: true
      description: |-
        Lists all compute flavors.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/flavorsResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/images:
    description: Compute image services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    get:
      x-hidden: true
      description: |-
        Lists all compute images.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/imagesResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '422':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unprocessableContentResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    post:
      summary: Create a compute image from a disk image URL.
      tags:
      - Images
      description: |-
        Create a compute image from a public URL.  Only raw images are supported, other container
        formats such as qcow2 must be first converted to a raw image.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/imageCreateRequest'
      responses:
        '200':
          $ref: '#/components/responses/imageResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/images/{imageID}:
    description: Compute image services.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    - $ref: '#/components/parameters/imageIDParameter'
    delete:
      summary: Delete a compute image.
      tags:
      - Images
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/regions/{regionID}/externalnetworks:
    description: |-
      Allows access to "external networks" for providers that support them.
      While things like Cluster API can infer the external network itself,
      it will break if it detects more than one, so this allows us to be
      explicit in our selection.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/regionIDParameter'
    get:
      x-hidden: true
      description: Get a list of external networks.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/externalNetworksResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/identities:
    description: |-
      Identities are a limited scope set of credentials that can be used to provision
      infrastructure in the region.  These typically contain isolated service accounts
      and projects, with the minimum required privileges to allow infrastructure
      provisioning.  This forms the basis of a security domain and minimizes risk in
      the event of a credentials leak.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    get:
      x-hidden: true
      description: Get all identities scoped to an organization.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/identitiesResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities:
    description: |-
      Identities are a limited scope set of credentials that can be used to provision
      infrastructure in the region.  These typically contain isolated service accounts
      and projects, with the minimum required privileges to allow infrastructure
      provisioning.  This forms the basis of a security domain and minimizes risk in
      the event of a credentials leak.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    post:
      x-hidden: true
      description: Create a new identity in the region.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/identityRequest'
      responses:
        '201':
          $ref: '#/components/responses/identityResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}:
    description: |-
      Identities are a limited scope set of credentials that can be used to provision
      infrastructure in the region.  These typically contain isolated service accounts
      and projects, with the minimum required privileges to allow infrastructure
      provisioning.  This forms the basis of a security domain and minimizes risk in
      the event of a credentials leak.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    get:
      x-hidden: true
      description: Get a single identity.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/identityResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      x-hidden: true
      description: Delete an identity and any resources associated with it.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/networks:
    description: |-
      Manages networks.  Networks may be required for baremetal node provisioning e.g. a VLAN.
      Note that only a single network is currently supported per identity, as identities are
      intended to be provisioned per-cluster.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    get:
      x-hidden: true
      description: List networks.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/networksResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/networks:
    description: |-
      Manages networks.  Networks may be required for baremetal node provisioning e.g. a VLAN.
      Note that only a single network is currently supported per identity, as identities are
      intended to be provisioned per-cluster.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    post:
      x-hidden: true
      description: Create a new network.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/networkRequest'
      responses:
        '201':
          $ref: '#/components/responses/networkResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/networks/{networkID}:
    description: |-
      Manages networks.  Networks may be required for baremetal node provisioning e.g. a VLAN.
      Note that only a single network is currently supported per identity, as identities are
      intended to be provisioned per-cluster.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/networkIDParameter'
    get:
      x-hidden: true
      description: Get a physical network.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/networkResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      x-hidden: true
      description: Delete a new network.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/securitygroups:
    description: |-
      Manages security groups. Security group acts as a virtual firewall for instances to control 
      inbound and outbound traffic.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
    get:
      x-hidden: true
      description: List security groups.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/securityGroupsResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/securitygroups:
    description: |-
      Manages security groups. Security group acts as a virtual firewall for instances to control 
      inbound and outbound traffic.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    post:
      x-hidden: true
      description: Create a new security group.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/securityGroupRequest'
      responses:
        '201':
          $ref: '#/components/responses/securityGroupResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/securitygroups/{securityGroupID}:
    description: |-
      Manages security groups. Security group acts as a virtual firewall for instances to control 
      inbound and outbound traffic.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/securityGroupIDParameter'
    get:
      x-hidden: true
      description: Get a security group.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/securityGroupResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      x-hidden: true
      description: Updates a security group.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/securityGroupRequest'
      responses:
        '202':
          $ref: '#/components/responses/securityGroupResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      x-hidden: true
      description: Delete a security group.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/servers:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
    get:
      x-hidden: true
      description: List servers.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/serversResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    post:
      x-hidden: true
      description: Create a new server.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/serverRequest'
      responses:
        '201':
          $ref: '#/components/responses/serverResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    get:
      x-hidden: true
      description: Get a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/serverResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      x-hidden: true
      description: Update a server.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/serverRequest'
      responses:
        '202':
          $ref: '#/components/responses/serverResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      x-hidden: true
      description: Delete a server.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}/start:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Start a server that was previously stopped via the stop endpoint.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}/stop:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Stop a running server. The server can be restarted later via the start endpoint.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}/softreboot:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Soft reboot a server.
      security:
      - oauth2Authentication: [ ]
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}/hardreboot:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Hard reboot a server.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}/consolesessions:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    get:
      x-hidden: true
      description: Create a new console session for a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/consoleSessionResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v1/organizations/{organizationID}/projects/{projectID}/identities/{identityID}/servers/{serverID}/consoleoutput:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/organizationIDParameter'
    - $ref: '#/components/parameters/projectIDParameter'
    - $ref: '#/components/parameters/identityIDParameter'
    - $ref: '#/components/parameters/serverIDParameter'
    - $ref: '#/components/parameters/lengthParameter'
    get:
      x-hidden: true
      description: Get the console output for a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/consoleOutputResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/networks:
    description: |-
      Manages region scoped layer 3 networks.  Networks by default come with a default route to
      the internet that performs masquerading.  This version of the API requires at least a
      /24 CIDR range, of which the top /25 is reserved for storage integration.
    get:
      description: List networks.
      summary: List networks
      tags:
      - Networks
      security:
      - oauth2Authentication: []
      parameters:
      - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
      - $ref: '#/components/parameters/organizationIDQueryParameter'
      - $ref: '#/components/parameters/projectIDQueryParameter'
      - $ref: '#/components/parameters/regionIDQueryParameter'
      responses:
        '200':
          $ref: '#/components/responses/networksV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    post:
      description: Create a new network.
      summary: Create network
      tags:
      - Networks
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/networkV2CreateRequest'
      responses:
        '201':
          $ref: '#/components/responses/networkV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/networks/{networkID}:
    description: |-
      Manages region scoped layer 3 networks.  Networks by default come with a default route to
      the internet that performs masquerading.  This version of the API requires at least a
      /24 CIDR range, of which the top /25 is reserved for storage integration.
    parameters:
    - $ref: '#/components/parameters/networkIDParameter'
    get:
      description: Get a network.
      summary: Get network
      tags:
      - Networks
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/networkV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      description: Update a network.
      summary: Update network
      tags:
      - Networks
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/networkV2UpdateRequest'
      responses:
        '202':
          $ref: '#/components/responses/networkV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      description: Delete a network.
      summary: Delete network
      tags:
      - Networks
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/securitygroups:
    description: |-
      Manages network scoped security groups.  By default, security groups allow
      all egress traffic from a server, ingress traffic must be explcitly allowed.
    get:
      description: List security groups.
      summary: List security groups
      tags:
      - Security groups
      security:
      - oauth2Authentication: []
      parameters:
      - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
      - $ref: '#/components/parameters/organizationIDQueryParameter'
      - $ref: '#/components/parameters/projectIDQueryParameter'
      - $ref: '#/components/parameters/regionIDQueryParameter'
      - $ref: '#/components/parameters/networkIDQueryParameter'
      responses:
        '200':
          $ref: '#/components/responses/securityGroupsV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    post:
      description: Create a new security group.
      summary: Create security group
      tags:
      - Security groups
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/securityGroupV2CreateRequest'
      responses:
        '201':
          $ref: '#/components/responses/securityGroupV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/securitygroups/{securityGroupID}:
    description: |-
      Manages network scoped security groups.  By default, security groups allow
      all egress traffic from a server, ingress traffic must be explcitly allowed.
    parameters:
    - $ref: '#/components/parameters/securityGroupIDParameter'
    get:
      description: Get a security group.
      summary: Get security group
      tags:
      - Security groups
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/securityGroupV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      description: Update a security group.
      summary: Update security group
      tags:
      - Security groups
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/securityGroupV2UpdateRequest'
      responses:
        '202':
          $ref: '#/components/responses/securityGroupV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      description: Delete a security groups.
      summary: Delete security group
      tags:
      - Security groups
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers:
    description: |-
      Manages servers.
    get:
      x-hidden: true
      description: List servers.
      security:
      - oauth2Authentication: []
      parameters:
      - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
      - $ref: '#/components/parameters/organizationIDQueryParameter'
      - $ref: '#/components/parameters/projectIDQueryParameter'
      - $ref: '#/components/parameters/regionIDQueryParameter'
      - $ref: '#/components/parameters/networkIDQueryParameter'
      responses:
        '200':
          $ref: '#/components/responses/serversV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    post:
      x-hidden: true
      description: Create a new server.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/serverV2CreateRequest'
      responses:
        '201':
          $ref: '#/components/responses/serverV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    get:
      x-hidden: true
      description: Get a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/serverV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      x-hidden: true
      description: Update a server.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/serverV2UpdateRequest'
      responses:
        '202':
          $ref: '#/components/responses/serverV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      x-hidden: true
      description: Delete a server.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/sshkey:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    get:
      x-hidden: true
      description: Retrieve the SSH key for a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/sshKeyResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/start:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Start a server that was previously stopped via the stop endpoint.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/stop:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Stop a running server. The server can be restarted later via the start endpoint.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/softreboot:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Soft reboot a server.
      security:
      - oauth2Authentication: [ ]
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/hardreboot:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      x-no-body: true
      description: Hard reboot a server.
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/consolesessions:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    get:
      x-hidden: true
      description: Create a new console session for a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/consoleSessionResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/consoleoutput:
    description: |-
      Manages servers.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    - $ref: '#/components/parameters/lengthParameter'
    get:
      x-hidden: true
      description: Get the console output for a server.
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/consoleOutputResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/servers/{serverID}/snapshot:
    description: |-
      Snapshot a server to create a compute image.
    parameters:
    - $ref: '#/components/parameters/serverIDParameter'
    post:
      x-hidden: true
      description: Snapshot a server to create an image.
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/snapshotServerRequest'
      responses:
        '201':
          $ref: '#/components/responses/imageResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'

  /api/v2/filestorage:
    description: |-
      Manages project scoped storage. Returns a list of all storage, regardless of type. 
    get:
      description: List storage for project.
      summary: List file storage
      tags:
      - File storage
      security:
      - oauth2Authentication: []
      parameters:
      - $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/parameters/tagSelectorParameter'
      - $ref: '#/components/parameters/organizationIDQueryParameter'
      - $ref: '#/components/parameters/projectIDQueryParameter'
      - $ref: '#/components/parameters/regionIDQueryParameter'
      responses:
        '200':
          $ref: '#/components/responses/storageListV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    post:
      description: Create a new storage.
      summary: Create file storage
      tags:
      - File storage
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/storageV2CreateRequest'
      responses:
        '201':
          $ref: '#/components/responses/storageV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/filestorage/{filestorageID}:
    description: |-
      Manages project scoped storage. 
    parameters:
    - $ref: '#/components/parameters/filestorageIDParameter'
    get:
      description: Get all storage information this ID.
      summary: Get file storage
      tags:
      - File storage
      security:
      - oauth2Authentication: []
      responses:
        '200':
          $ref: '#/components/responses/storageV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    put:
      description: Update this storage.
      summary: Update file storage
      tags:
      - File storage
      security:
      - oauth2Authentication: []
      requestBody:
        $ref: '#/components/requestBodies/storageV2UpdateRequest'
      responses:
        '202':
          $ref: '#/components/responses/storageV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
    delete:
      description: Delete a storage.
      summary: Delete file storage
      tags:
      - File storage
      security:
      - oauth2Authentication: []
      responses:
        '202':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/acceptedResponse'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '404':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/notFoundResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
  /api/v2/filestorageclasses:
    description: |-
      Lists all available storage classes, detailing supported protocols, capacity limits, and service characteristics. Enables users to discover storage options suitable for their workloads.
    get:
      description: List storage classes.
      summary: List file storage classes
      tags:
      - File storage classes
      security:
      - oauth2Authentication: []
      parameters:
      - $ref: '#/components/parameters/regionIDQueryParameter'
      responses:
        '200':
          $ref: '#/components/responses/storageClassListV2Response'
        '400':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/badRequestResponse'
        '401':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/unauthorizedResponse'
        '403':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/forbiddenResponse'
        '500':
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/responses/internalServerErrorResponse'
components:
  parameters:
    organizationIDParameter:
      name: organizationID
      in: path
      description: An organization ID.
      required: true
      schema:
        type: string
    projectIDParameter:
      name: projectID
      in: path
      description: |-
        The project ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    regionIDParameter:
      name: regionID
      in: path
      description: The region ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    identityIDParameter:
      name: identityID
      in: path
      description: The identity ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    imageIDParameter:
      name: imageID
      in: path
      description: The image ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    networkIDParameter:
      name: networkID
      in: path
      description: The network ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    securityGroupIDParameter:
      name: securityGroupID
      in: path
      description: The security group ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    serverIDParameter:
      name: serverID
      in: path
      description: The server ID.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    lengthParameter:
      name: length
      in: query
      description: The requested output length.
      schema:
        type: integer
    organizationIDQueryParameter:
      name: organizationID
      in: query
      description: Allows resources to be filtered by organization.
      schema:
        type: array
        items:
          type: string
    filestorageIDParameter:
      name: filestorageID
      in: path
      description: The storage unique identifier.
      required: true
      schema:
        $ref: '#/components/schemas/kubernetesNameParameter'
    projectIDQueryParameter:
      name: projectID
      in: query
      description: Allows resources to be filtered by project.
      schema:
        type: array
        items:
          type: string
    regionIDQueryParameter:
      name: regionID
      in: query
      description: Allows resources to be filtered by region.
      schema:
        type: array
        items:
          type: string
    networkIDQueryParameter:
      name: networkID
      in: query
      description: Allows resources to be filtered by network.
      schema:
        type: array
        items:
          type: string
  schemas:
    kubernetesNameParameter:
      description: A Kubernetes name. Must be a valid DNS containing only lower case characters, numbers or hyphens, start and end with a character or number, and be at most 63 characters in length.
      type: string
      minLength: 1
      maxLength: 63
    regionType:
      description: The region's provider type.
      type: string
      enum:
      - openstack
      - kubernetes
    regionFeatures:
      description: A set of features the region may provide to clients.
      type: object
      required:
      - physicalNetworks
      properties:
        physicalNetworks:
          description: |
            If set, this indicates that the region supports physical networks and
            one should be provisioned for clusters to use.  The implication here is
            the region supports base-metal machines, and these must be provisioned
            on a physical VLAN etc.
          type: boolean
    regionSpec:
      description: Information about the region.
      type: object
      required:
      - type
      - features
      properties:
        type:
          $ref: '#/components/schemas/regionType'
        features:
          $ref: '#/components/schemas/regionFeatures'
    regionDetailKubernetes:
      description: Region specific information when the type is "kubernetes".
      type: object
      required:
      - kubeconfig
      properties:
        kubeconfig:
          description: The region's base64 encoded Kubernetes configuration file.
          type: string
        domainName:
          description: The region's requested domain name for consuming services.
          type: string
    regionDetailSpec:
      description: Information about the region.
      type: object
      required:
      - type
      - features
      properties:
        type:
          $ref: '#/components/schemas/regionType'
        kubernetes:
          $ref: '#/components/schemas/regionDetailKubernetes'
        features:
          $ref: '#/components/schemas/regionFeatures'
    regionRead:
      description: A region.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceReadMetadata'
        spec:
          $ref: '#/components/schemas/regionSpec'
    regionDetailRead:
      description: A region.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceReadMetadata'
        spec:
          $ref: '#/components/schemas/regionDetailSpec'
    regions:
      description: A list of regions.
      type: array
      items:
        $ref: '#/components/schemas/regionRead'
    imageVirtualization:
      description: What type of machine the image is for.
      type: string
      enum:
      - virtualized
      - baremetal
      - any
    softwareVersions:
      description: Image preinstalled version version metadata.
      type: object
      additionalProperties:
        $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/semver'
    gpuVendor:
      description: The GPU vendor.
      type: string
      enum:
      - NVIDIA
      - AMD
    gpuModel:
      description: A GPU model number.
      type: string
    gpuModelList:
      description: A list of GPU model numbers.
      type: array
      items:
        $ref: '#/components/schemas/gpuModel'
    architecture:
      type: string
      description: CPU architecture.
      enum:
      - x86_64
      - aarch64
    imageGpu:
      description: The GPU driver if installed.
      type: object
      required:
      - vendor
      - driver
      properties:
        vendor:
          $ref: '#/components/schemas/gpuVendor'
        driver:
          description: The GPU driver version, this is vendor specific.
          type: string
        models:
          $ref: '#/components/schemas/gpuModelList'
    osKernel:
      description: A kernel type.
      type: string
      enum:
      - linux
    osFamily:
      description: A family of operating systems.  This typically defines the package format.
      type: string
      enum:
      - redhat
      - debian
    osDistro:
      description: A distribution name.
      type: string
      enum:
      - rocky
      - ubuntu
    imageOS:
      description: An operating system description.
      type: object
      required:
      - kernel
      - family
      - distro
      - version
      properties:
        kernel:
          $ref: '#/components/schemas/osKernel'
        family:
          $ref: '#/components/schemas/osFamily'
        distro:
          $ref: '#/components/schemas/osDistro'
        variant:
          description: A free form variant e.g. desktop/server.
          type: string
        codename:
          description: A free form code name e.g. warty/bionic.
          type: string
        version:
          description: Version of the operating system e.g. "24.04".
          type: string
    imageSpec:
      description: An image.
      type: object
      required:
      - sizeGiB
      - virtualization
      - os
      - architecture
      properties:
        architecture:
          $ref: '#/components/schemas/architecture'
        sizeGiB:
          description: Minimum disk size required to use the image in GiB.
          type: integer
        virtualization:
          $ref: '#/components/schemas/imageVirtualization'
        os:
          $ref: '#/components/schemas/imageOS'
        softwareVersions:
          $ref: '#/components/schemas/softwareVersions'
        gpu:
          $ref: '#/components/schemas/imageGpu'
    imageState:
      description: The images's lifecycle state.
      type: string
      enum:
      - pending
      - creating
      - ready
      - failed
    imageStatus:
      description: The image's status.
      type: object
      required:
      - state
      properties:
        state:
          $ref: '#/components/schemas/imageState'
    image:
      description: An image.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/staticResourceMetadata'
        spec:
          $ref: '#/components/schemas/imageSpec'
        status:
          $ref: '#/components/schemas/imageStatus'
    images:
      description: A list of images that are compatible with this platform.
      type: array
      items:
        $ref: '#/components/schemas/image'
    imageCreateSpec:
      description: A compute image specification.
      type: object
      required:
      - uri
      - virtualization
      - os
      - architecture
      properties:
        uri:
          description: A URI to upload the image from.
          type: string
          format: uri
        architecture:
          $ref: '#/components/schemas/architecture'
        virtualization:
          $ref: '#/components/schemas/imageVirtualization'
        os:
          $ref: '#/components/schemas/imageOS'
        softwareVersions:
          $ref: '#/components/schemas/softwareVersions'
        gpu:
          $ref: '#/components/schemas/imageGpu'
    imageCreate:
      description: A compute image create request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/imageCreateSpec'

    snapshotCreateSpec:
      description: A compute image snapshot specification.
      type: object
       # NB in general, we take the spec from the original image; but we may want to include overrides
       # for the snapshot image, later, so that people can e.g., install a GPU driver and mention it here.
      properties: {}
    snapshotCreate:
      description: A compute image create request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/snapshotCreateSpec'

    gpuSpec:
      description: GPU specification.
      type: object
      required:
      - vendor
      - model
      - memory
      - physicalCount
      - logicalCount
      properties:
        vendor:
          $ref: '#/components/schemas/gpuVendor'
        model:
          description: A GPU model.
          type: string
        memory:
          description: GPU memory in GiB.
          type: integer
        physicalCount:
          description: The physical number of GPUs (cards) available.
          type: integer
        logicalCount:
          description: The logical number of GPUs available as seen in the OS.
          type: integer
    flavorSpec:
      description: A flavor.
      type: object
      required:
      - cpus
      - memory
      - disk
      - architecture
      properties:
        baremetal:
          description: Whether the flavor is for a dedicated machine.
          type: boolean
        cpus:
          description: The number of CPUs.
          type: integer
        cpuFamily:
          description: A free form CPU family description e.g. model number, architecture.
          type: string
        memory:
          description: The amount of memory in GiB.
          type: integer
        disk:
          description: The amount of ephemeral disk in GB.
          type: integer
        architecture:
          $ref: '#/components/schemas/architecture'
        gpu:
          $ref: '#/components/schemas/gpuSpec'
    flavor:
      description: A flavor.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/staticResourceMetadata'
        spec:
          $ref: '#/components/schemas/flavorSpec'
    flavors:
      description: A list of flavors.
      type: array
      items:
        $ref: '#/components/schemas/flavor'
    identityWriteSpec:
      description: Request parameters for creating an identity.
      type: object
      required:
      - regionId
      properties:
        regionId:
          description: The region an identity is provisioned in.
          type: string
    identityWrite:
      description: An identity request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/identityWriteSpec'
    identitySpecOpenStack:
      description: Everything an OpenStack client needs to function.
      type: object
      properties:
        cloud:
          description: The name of the cloud in the cloud config.
          type: string
        cloudConfig:
          description: A base64 encoded cloud config file.
          type: string
        userId:
          description: User identitifer allocated for the infrastructure.
          type: string
        projectId:
          description: Project identifier allocated for the infrastructure.
          type: string
        serverGroupId:
          description: Server group identifier allocated for the intrastructure.
          type: string
        sshKeyName:
          description: Ephemeral SSH key generated for the identity.
          type: string
        sshPrivateKey:
          description: Ephemeral SSH private key to be used by higher order services.
          type: string
    identitySpec:
      description: A provider specific identity.
      type: object
      required:
      - type
      - regionId
      properties:
        type:
          $ref: '#/components/schemas/regionType'
        regionId:
          description: The region an identity is provisioned in.
          type: string
        openstack:
          $ref: '#/components/schemas/identitySpecOpenStack'
    identityRead:
      description: A provider specific identity.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/identitySpec'
    identitiesRead:
      description: A list of provider specific identities.
      type: array
      items:
        $ref: '#/components/schemas/identityRead'
    ipv4Address:
      description: An IPv4 address.
      type: string
      format: ipv4
    ipv4AddressList:
      description: A list of IPv4 addresses.
      type: array
      items:
        $ref: "#/components/schemas/ipv4Address"
    networkReadSpec:
      description: A physical network's specification.
      type: object
      required:
      - regionId
      - prefix
      - dnsNameservers
      properties:
        prefix:
          description: An IPv4 prefix for the network.
          type: string
        dnsNameservers:
          $ref: '#/components/schemas/ipv4AddressList'
        regionId:
          description: The region an identity is provisioned in.
          type: string
        openstack:
          $ref: '#/components/schemas/networkSpecOpenstack'
    networkSpecOpenstack:
      description: An openstack network.
      properties:
        vlanId:
          description: The allocated VLAN ID.
          type: integer
        networkId:
          description: The openstack network ID.
          type: string
        subnetId:
          description: The openstack subnet ID.
          type: string
        routerId:
          description: The openstack router ID.
          type: string
    networkWriteSpec:
      description: A physical network's specification.
      type: object
      required:
      - prefix
      - dnsNameservers
      properties:
        prefix:
          description: An IPv4 prefix for the network.
          type: string
        dnsNameservers:
          $ref: '#/components/schemas/ipv4AddressList'
    networkWrite:
      description: A network request.
      type: object
      required:
      - metadata
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/networkWriteSpec'
    networkRead:
      description: A network.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/networkReadSpec'
    networksRead:
      description: A list of networks.
      type: array
      items:
        $ref: '#/components/schemas/networkRead'
    route:
      description: A network route.
      type: object
      required:
      - prefix
      - nexthop
      properties:
        prefix:
          description: An IPv4 prefix for the route.
          type: string
        nexthop:
          description: An IPv4 address for the route's next hop.
          type: string
    routes:
      description: A list of network routes.
      type: array
      items:
        $ref: '#/components/schemas/route'
    networkV2Spec:
      description: A network's specification.
      type: object
      required:
      - dnsNameservers
      properties:
        dnsNameservers:
          $ref: '#/components/schemas/ipv4AddressList'
        routes:
          $ref: '#/components/schemas/routes'
    networkV2CreateSpec:
      description: A network's specification.
      type: object
      allOf:
      - $ref: '#/components/schemas/networkV2Spec'
      - type: object
        required:
        - organizationId
        - projectId
        - regionId
        - prefix
        properties:
          organizationId:
            description: The organization to provision the resource in.
            type: string
          projectId:
            description: The project to provision the resource in.
            type: string
          regionId:
            description: The region a network is to be provisioned in.
            type: string 
          prefix:
            description: An IPv4 prefix for the network.
            type: string
    networkV2Status:
      description: Read only status about a network.
      type: object
      required:
      - regionId
      - prefix
      properties:
        regionId:
          description: The region a network is provisioned in.
          type: string
        prefix:
          description: An IPv4 prefix for the network.
          type: string
    networkV2Read:
      description: A network.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/networkV2Spec'
        status:
          $ref: '#/components/schemas/networkV2Status'
    networksV2Read:
      description: A list of networks.
      type: array
      items:
        $ref: '#/components/schemas/networkV2Read'
    networkV2Create:
      description: A network request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/networkV2CreateSpec'
    networkV2Update:
      description: A network request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/networkV2Spec'
    externalNetwork:
      description: An Openstack external network.
      type: object
      required:
      - id
      - name
      properties:
        id:
          description: The resource ID.
          type: string
        name:
          description: The resource name.
          type: string
    externalNetworks:
      description: A list of openstack external networks.
      type: array
      items:
        $ref: '#/components/schemas/externalNetwork'
    securityGroupRulePort:
      description: The port definition to allow traffic.
      type: object
      properties:
        number:
          description: The port to allow.
          type: integer
          minimum: 1
          maximum: 65535
        range:
          $ref: '#/components/schemas/securityGroupRulePortRange'
    securityGroupRulePortRange:
      description: The port range to allow traffic, valid for layer 4 protocols only e.g. TCP, UDP.
      type: object
      required:
      - start
      - end
      properties:
        start:
          description: The start of the port range.
          type: integer
          minimum: 1
          maximum: 65535
        end:
          description: The end of the port range.
          type: integer
          minimum: 1
          maximum: 65535
    networkDirection:
      description: The direction of the rule.
      type: string
      enum:
      - ingress
      - egress
    networkProtocol:
      description: The layer 3+ protocol to allow.
      type: string
      enum:
      - any
      - icmp
      - tcp
      - udp
      - vrrp
    securityGroupRule:
      description: |-
        A security group rule's specification, this operates at OSI layer 3 and above.
        If omitted the CIDR prefix defaults to 0.0.0.0/0 e.g. allow from anywhere.
        The port can only be specified for layer 4 protocols e.g. TCP or UDP, and if
        omitted this default to all ports.
      type: object
      required:
      - direction
      - protocol
      properties:
        direction:
          $ref: '#/components/schemas/networkDirection'
        protocol:
          $ref: '#/components/schemas/networkProtocol'
        port:
          $ref: '#/components/schemas/securityGroupRulePort'
        cidr:
          $ref: '#/components/schemas/ipv4Address'
    securityGroupRuleList:
      description: A set of security group rules to apply.
      type: array
      items:
        $ref: '#/components/schemas/securityGroupRule'
    securityGroupRuleV2:
      description: |-
        A security group rule's specification, this operates at OSI layer 3 and above.
        If omitted the prefix defaults to 0.0.0.0/0 e.g. allow from anywhere.
      type: object
      required:
      - direction
      - protocol
      properties:
        direction:
          $ref: '#/components/schemas/networkDirection'
        protocol:
          $ref: '#/components/schemas/networkProtocol'
        port:
          description: Port number for layer 4 protocols, if not specified matches all ports.
          type: integer
          minimum: 1
          maximum: 65535
        portMax:
          description: maxumum port number for layer 4 protocols to include a range.
          type: integer
          minimum: 1
          maximum: 65535
        prefix:
          $ref: '#/components/schemas/ipv4Address'
    securityGroupRuleV2List:
      description: A set of security group rules to apply.
      type: array
      items:
        $ref: '#/components/schemas/securityGroupRuleV2'
    securityGroupSpec:
      description: A security group's specification.
      type: object
      required:
      - rules
      properties:
        rules:
          $ref: '#/components/schemas/securityGroupRuleList'
    securityGroupWrite:
      description: A security group request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/securityGroupSpec'
    securityGroupRead:
      description: A security group.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/securityGroupSpec'
    securityGroupsRead:
      description: A list of security groups.
      type: array
      items:
        $ref: '#/components/schemas/securityGroupRead'
    securityGroupV2Spec:
      description: A security group's specification.
      type: object
      required:
      - rules
      properties:
        rules:
          $ref: '#/components/schemas/securityGroupRuleV2List'
    securityGroupV2CreateSpec:
      description: A security group's specification.
      type: object
      allOf:
      - $ref: '#/components/schemas/securityGroupV2Spec'
      - type: object
        required:
        - networkId
        properties:
          networkId:
            description: The network a security group belongs to.
            type: string
    securityGroupV2Status:
      description: Read only status information about a security group.
      type: object
      required:
      - regionId
      - networkId
      properties:
        regionId:
          description: The region a security group belongs to.
          type: string
        networkId:
          description: The network a security group belongs to.
          type: string
    securityGroupV2Create:
      description: A security group request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/securityGroupV2CreateSpec'
    securityGroupV2Update:
      description: A security group request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/securityGroupV2Spec'
    securityGroupV2Read:
      description: A security group.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/securityGroupV2Spec'
        status:
          $ref: '#/components/schemas/securityGroupV2Status'
    securityGroupsV2Read:
      description: A list of security groups.
      type: array
      items:
        $ref: '#/components/schemas/securityGroupV2Read'
    serverSpec:
      description: A server's specification.
      type: object
      required:
      - flavorId
      - imageId
      - networks
      properties:
        flavorId:
          description: The flavor of the server.
          type: string
        imageId:
          description: The image of the server.
          type: string
        securityGroups:
          $ref: '#/components/schemas/serverSecurityGroupList'
        publicIPAllocation:
          $ref: '#/components/schemas/serverPublicIPAllocation'
        networks:
          $ref: '#/components/schemas/serverNetworkList'
        userData:
          description: UserData contains base64-encoded configuration information or scripts to use upon launch.
          type: string
          format: byte 
    serverNetworkList:
      description: A list of networks.
      type: array
      minItems: 1
      # NOTE: this is pinned due to cascading deletion semantics, for now.
      maxItems: 1
      items:
        $ref: '#/components/schemas/serverNetwork'
    serverNetwork:
      description: The server's network.
      type: object
      required:
      - id
      properties:
        id:
          description: Network to attach the server to
          type: string
        allowedAddressPairs:
          $ref: '#/components/schemas/serverNetworkAllowedAddressPairList'
    serverNetworkAllowedAddressPairList:
      description: A list of allowed address pairs.
      type: array
      items:
        $ref: '#/components/schemas/serverNetworkAllowedAddressPair'
    serverNetworkAllowedAddressPair:
      description: Allow multiple MAC/IP address (range) pairs to pass through this network port.
      type: object
      required:
      - cidr
      properties:
        cidr:
          description: The CIDR to allow.
          type: string
        macAddress:
          description: The MAC address to allow.
          type: string
    serverPublicIPAllocation:
      description: The server's public IP allocation.
      type: object
      required:
      - enabled
      properties:
        enabled:
          description: Whether to allocate a public IP.
          type: boolean
    serverSecurityGroupList:
      description: A list of security groups.
      type: array
      items:
        $ref: '#/components/schemas/serverSecurityGroup'
    serverSecurityGroup:
      description: A security group.
      type: object
      required:
      - id
      properties:
        id:
          description: The security group ID.
          type: string
    instanceLifecyclePhase:
      description: The lifecycle phase of an instance.
      type: string
      enum:
      - Pending
      - Running
      - Stopping
      - Stopped
    serverStatus:
      description: A server's status.
      type: object
      properties:
        phase:
          $ref: '#/components/schemas/instanceLifecyclePhase'
        privateIP:
          description: The private IP address of the server.
          type: string
        publicIP:
          description: The public IP address of the server.
          type: string
    serverRead:
      description: A server.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/serverSpec'
        status:
          $ref: '#/components/schemas/serverStatus'
    serverWrite:
      description: A server request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/serverSpec'
    serversRead:
      description: A list of servers.
      type: array
      items:
        $ref: '#/components/schemas/serverRead'
    allowedSourceAddresses:
      description: |-
        A list of network prefixes that are allowed to egress from the server.
        By default, only packets from the server's network interface's IP address
        are allowed to enter the network.  Use of this option allows the server
        to act as a router without SNAT rules.
      type: array
      items:
        description: An allowed source address prefix.
        type: string
    serverV2SecurityGroupIDList:
      description: A list of security group IDs.
      type: array
      items:
        description: A security group ID.
        type: string
    serverV2Networking:
      description: A server's network configuration.
      type: object
      properties:
        securityGroups:
          $ref: '#/components/schemas/serverV2SecurityGroupIDList'
        publicIP:
          description: Whether or not to provision a public IP.
          type: boolean
        allowedSourceAddresses:
          $ref: '#/components/schemas/allowedSourceAddresses'
    serverV2Spec:
      description: A server's specification.
      type: object
      required:
      - flavorId
      - imageId
      properties:
        flavorId:
          description: The flavor of the server.
          type: string
        imageId:
          description: The image of the server.
          type: string
        networking:
          $ref: '#/components/schemas/serverV2Networking'
        userData:
          description: |-
            Contains base64-encoded configuration information or scripts to use upon launch.
            The format of the data is governed by the cloud-init standard, and may be a script,
            a MIME multipart archive, etc.
          type: string
          format: byte
    serverV2CreateSpec:
      description: A server's specification.
      type: object
      allOf:
      - $ref: '#/components/schemas/serverV2Spec'
      - type: object
        required:
        - networkId
        properties:
          networkId:
            description: The network ID to attach a server to.
            type: string
    serverV2Status:
      description: Read only status information about a security group.
      type: object
      required:
      - regionId
      - networkId
      properties:
        regionId:
          description: The region a security group belongs to.
          type: string
        networkId:
          description: The network a security group belongs to.
          type: string
        powerState:
          $ref: '#/components/schemas/instanceLifecyclePhase'
        privateIP:
          description: The private IP address of the server.
          type: string
        publicIP:
          description: The public IP address of the server.
          type: string
    serverV2Read:
      description: A server.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/serverV2Spec'
        status:
          $ref: '#/components/schemas/serverV2Status'
    serversV2Read:
      description: A list of servers.
      type: array
      items:
        $ref: '#/components/schemas/serverV2Read'
    serverV2Create:
      description: A server creation request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/serverV2CreateSpec'
    serverV2Update:
      description: A server update request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/serverV2Spec'
    consoleSession:
      description: A console session response.
      type: object
      required:
      - url
      properties:
        url: 
          description: The URL to access the console session.
          type: string
    consoleOutput:
      description: Console output
      type: object
      required:
      - contents
      properties:
        contents:
          description: Console output.
          type: string
    sshKey:
      description: An SSH key.
      type: object
      required:
      - privateKey
      properties:
        privateKey:
          description: The SSH private key.
          type: string
    storageTypeV2Spec:
      description: A storage's type
      type: object
      properties:
        NFS:
          $ref: '#/components/schemas/NFSV2Spec'
    NFSV2Spec:
      description: NFS specific
      type: object
      required:
       - rootSquash
      properties:
        rootSquash:
          description: root squash
          type: boolean
    storageAttachmentV2Spec:
      description: Describes the network attachment for storage
      type: object
      required:
      - networkIds
      properties:
        networkIds:
          $ref: '#/components/schemas/networkIDList'
    networkIDList:
      description: A list of network IDs 
      type: array
      items:
        description: A network identifier
        type: string
    storageAttachmentListV2Status:
      description: Describes the network attachments for storage
      type: array
      items:
        $ref: '#/components/schemas/storageAttachmentV2Status'
    storageAttachmentV2Status:
      description: Describes the network attachment for storage
      type: object
      required:
      - networkId
      - provisioningStatus
      properties:
        networkId:
          description: The network ID
          type: string
        mountSource:
          description: The mount source for the attached storage in the format <host>:<path>.
          type: string
        provisioningStatus:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceProvisioningStatus'
    storageV2Spec:
      description: A storage's specification.
      type: object
      required:
      - sizeGiB
      - storageType
      properties:
        sizeGiB:
          description: size in GiB of the storage 
          type: integer
          format: int64
        storageType: 
          $ref: '#/components/schemas/storageTypeV2Spec'
        attachments:
          $ref: '#/components/schemas/storageAttachmentV2Spec'
    storageV2Status:
      description: Read only status about storage
      type: object
      required:
        - storageClassId
        - regionId
      properties:
        storageClassId:
          description: identifier for the storage
          type: string
        regionId:
          description: The region an identity is provisioned in.
          type: string
        usage:
          $ref: '#/components/schemas/storageUsageV2Status'
        attachments:
         $ref: '#/components/schemas/storageAttachmentListV2Status'
    storageUsageV2Status:
        description: Information about the usage of the storage in bytes
        type: object
        required:
          - capacityBytes
        properties:
            capacityBytes:
              description: total space allotted in bytes
              type: integer
              format: int64
            usedBytes:
              description: amount of storage space used in bytes
              type: integer
              format: int64
    storageV2Create:
      description: A storage create request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          allOf:
          - type: object
            required:
            - organizationId
            - projectId
            - regionId
            - storageClassId
            - sizeGiB
            properties:
              storageClassId:
                description: The storage class ID to provision the storage into.
                type: string
              organizationId:
                description: The organization to provision the resource in.
                type: string
              regionId:
                description: The region ID to provision the storage into.
                type: string
              projectId:
                description: The project to provision the resource in.
                type: string
          - $ref: '#/components/schemas/storageV2Spec'
    storageV2Update:
      description: A storage create request.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceWriteMetadata'
        spec:
          $ref: '#/components/schemas/storageV2Spec'
    storageV2Read:
      description: A storage read only group.
      type: object
      required:
      - metadata
      - spec
      - status
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/projectScopedResourceReadMetadata'
        spec:
          $ref: '#/components/schemas/storageV2Spec'
        status:
          $ref: '#/components/schemas/storageV2Status'
    storageV2List:
      description: A list of storage
      type: array
      items:
        $ref: '#/components/schemas/storageV2Read'
    storageClassListV2Read:
      description: A list of storage classes.
      type: array
      items:
        $ref: '#/components/schemas/storageClassV2Read'
    storageClassV2Read:
      description: A storage class.
      type: object
      required:
      - metadata
      - spec
      properties:
        metadata:
          $ref: 'https://raw.githubusercontent.com/unikorn-cloud/core/main/pkg/openapi/common.spec.yaml#/components/schemas/resourceReadMetadata'
        spec:
          $ref: '#/components/schemas/storageClassV2Spec'
    storageClassV2Spec:
      description: A storage class's specification.
      type: object
      required:
      - regionId
      - protocols
      properties:
        regionId:
          description: The region an storage class is provisioned in.
          type: string
        protocols:
          type: array
          items:
            $ref: '#/components/schemas/storageClassProtocolType'
    storageClassProtocolType:
      description: The protocol type of the storage class.
      type: string
      enum:
      - nfsv3
      - nfsv4
  requestBodies:
    identityRequest:
      description: A request for an identity.
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/identityWrite'
          example:
            metadata:
              name: identity-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              regionId: c7568e2d-f9ab-453d-9a3a-51375f78426b
    imageCreateRequest:
      description: A request to create an image.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/imageCreate'
          example:
            metadata:
              name: ubu2204-v1.25.6-gpu-525.85.05-7ced4154
            spec:
              uri: https://example.com/buckets/myimages/ubu2204-v1.25.6-gpu-525.85.05-7ced4154.raw
              architecture: x86_64
              virtualization: virtualized
              os:
                kernel: linux
                family: debian
                distro: ubuntu
                variant: server
                codename: noble
                version: '24.04'
              softwareVersions:
                kubernetes: v1.25.6
              gpu:
                vendor: NVIDIA
                driver: 525.85.05
                models:
                  - A100
                  - H100
                  - H200
      x-go-type-name: ImageCreateRequest
    networkRequest:
      description: A request for a network.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networkWrite'
          example:
            metadata:
              name: network-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              prefix: 192.168.0.0/24
              dnsNameservers:
              - 8.8.8.8
    networkV2CreateRequest:
      description: A request for a network create.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networkV2Create'
          example:
            metadata:
              name: network-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              organizationId: 161b9d5a-701d-4fea-848d-0e345edf16e9
              projectId: f113be96-4dd2-4c14-9c0e-e96c500f21e0
              regionId: c7568e2d-f9ab-453d-9a3a-51375f78426b
              prefix: 192.168.0.0/24
              dnsNameservers:
              - 8.8.8.8
              routes:
              - prefix: 10.0.0.0/8
                nexthop: 192.168.0.10
    networkV2UpdateRequest:
      description: A request for a network create.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networkV2Update'
          example:
            metadata:
              name: network-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              dnsNameservers:
              - 8.8.8.8
              routes:
              - prefix: 10.0.0.0/8
                nexthop: 192.168.0.10
    securityGroupRequest:
      description: A request for a security group.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupWrite'
          example:
            metadata:
              name: security-group-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              rules:
              - direction: ingress
                protocol: tcp
                port:
                  number: 80
                cidr: 172.16.0.0/12
    securityGroupV2CreateRequest:
      description: A request for a security group.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupV2Create'
          example:
            metadata:
              name: security-group-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              networkId: 61f0ad85-3001-41cb-824a-e6a047668dfe
              rules:
              - direction: ingress
                protocol: tcp
                port: 80
                cidr: 172.16.0.0/12
    securityGroupV2UpdateRequest:
      description: A request for a security group.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupV2Update'
          example:
            metadata:
              name: security-group-name
              description: A verbose description
              tags:
              - name: cluster-id
                value: 9361402c-f998-49cc-ab21-9bb99afcfde8
            spec:
              rules:
              - direction: ingress
                protocol: tcp
                port: 80
                cidr: 172.16.0.0/12
    serverRequest:
      description: A request for a server.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serverWrite'
          example:
            metadata:
              name: server-name
              description: A verbose description
              tags:
              - name: tag-name
                value: tag-value
            spec:
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              securityGroups:
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9e
              publicIPAllocation:
                enabled: true
              networks:
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
                allowedAddressPairs:
                - cidr: 192.168.192.0/24
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=
    serverV2CreateRequest:
      description: A request for a server.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serverV2Create'
          example:
            metadata:
              name: server-name
              description: A verbose description
              tags:
              - name: tag-name
                value: tag-value
            spec:
              networkId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              networking:
                securityGroups:
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9d
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9e
                publicIP: true
                allowedSourceAddresses:
                - 192.168.192.0/24
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=
    serverV2UpdateRequest:
      description: A request for a server.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serverV2Update'
          example:
            metadata:
              name: server-name
              description: A verbose description
              tags:
              - name: tag-name
                value: tag-value
            spec:
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              networking:
                securityGroups:
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9d
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9e
                publicIP: true
                allowedSourceAddresses:
                - 192.168.192.0/24
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=

    snapshotServerRequest:
      description: A request to create an image by snapshoting a server.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/snapshotCreate'
          example:
            metadata:
              name: ubu2204-v1.25.6-gpu-525.85.05-7ced4154
            spec: {}
    storageV2CreateRequest:
      description: A request for storage.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/storageV2Create'
          example:
            metadata:
              name: storage-name
              description: A verbose description
              tags:
              - name: tag-name
                value: tag-value
            spec:
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              storageClassId: c7568e2d-f9ab-453d-9a3a-51375f78426b
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              sizeGiB: 200
              storageType:
                nfs:
                  rootsquash: true
    storageV2UpdateRequest:
      description: A request to update a storage.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/storageV2Update'
          example:
            metadata:
              name: storage-name
              description: A verbose description
              tags:
              - name: tag-name
                value: tag-value
            spec:
              sizeGiB: 200
              storageType:
                nfs:
                  rootsquash: true
              attachments:
                networkIds:
                  - 903b5fba-8eb0-4016-a854-b8f716bcd9bb
  responses:
    regionsResponse:
      description: A list of regions.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/regions'
          example:
          - metadata:
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: uk-west-1
              description: A top secret datacenter somewhere in the UK
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              type: openstack
              features:
                physicalNetworks: true
    regionDetailResponse:
      description: A detailed description of the region.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/regionDetailRead'
          example:
            metadata:
              id: c7568e2d-f9ab-453d-9a3a-51375f78426b
              name: uk-west
              description: A top secret datacenter somewhere in the UK
              creationTime: 2023-07-31T10:45:45Z
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              type: kubernetes
              kubernetes:
                kubeconfig: Zm9v
              features:
                physicalNetworks: false
    imagesResponse:
      description: A list of images that are compatible with this platform.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/images'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: ubu2204-v1.25.6-gpu-525.85.05-7ced4154
              creationTime: 2023-02-22T12:04:13Z
            spec:
              architecture: x86_64
              sizeGiB: 10
              virtualization: virtualized
              os:
                kernel: linux
                family: debian
                distro: ubuntu
                variant: server
                codename: noble
                version: '24.04'
              softwareVersions:
                kubernetes: v1.25.6
              gpu:
                vendor: NVIDIA
                driver: 525.85.05
                models:
                - A100
                - H100
                - H200
            status:
              state: ready
    imageResponse:
      description: An image that can be used on this platform.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/image'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: ubu2204-v1.25.6-gpu-525.85.05-7ced4154
              creationTime: 2023-02-22T12:04:13Z
            spec:
              architecture: x86_64
              sizeGiB: 10
              virtualization: virtualized
              os:
                kernel: linux
                family: debian
                distro: ubuntu
                variant: server
                codename: noble
                version: '24.04'
              softwareVersions:
                kubernetes: v1.25.6
              gpu:
                vendor: NVIDIA
                driver: 525.85.05
                models:
                - A100
                - H100
                - H200
            status:
              state: ready
    flavorsResponse:
      description: A list of flavors.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/flavors'
          example:
          - metadata:
              id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              name: g.4.highmem.a100.1g.10gb
              creationTime: 1970-01-01T00:00:00Z
            spec:
              architecture: x86_64
              cpus: 4
              cpuFamily: Intel Xeon Platinum 8160T (Skylake)
              disk: 20
              memory: 32
              gpu:
                vendor: AMD
                model: Instinct MI250
                memory: 64
                physicalCount: 1
                logicalCount: 2
    identityResponse:
      description: An identity response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/identityRead'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              type: openstack
              openstack:
                cloud: default
                cloudConfig: dGhpcyBpcyBhIHRlc3QK
                projectId: eb9c92d937464d14bf87e50fa726380d
                userId: a19678a28126497dba24b54c96a064fa
                sshKeyNmae: foo
    identitiesResponse:
      description: A list of identites.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/identitiesRead'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              type: openstack
              openstack:
                cloud: default
                cloudConfig: dGhpcyBpcyBhIHRlc3QK
                projectId: eb9c92d937464d14bf87e50fa726380d
                userId: a19678a28126497dba24b54c96a064fa
                sshKeyNmae: foo
    networkResponse:
      description: A network.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networkRead'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              prefix: 192.168.0.0/24
              dnsNameservers:
              - 8.8.8.8
              type: openstack
              openstack:
                vlanId: 1024
                networkId: 824e8c4c-5858-4b02-9906-390e34561bf3
    networksResponse:
      description: A list of networks.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networksRead'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              prefix: 192.168.0.0/24
              dnsNameservers:
              - 8.8.8.8
              type: openstack
              openstack:
                vlanId: 1024
                networkId: 824e8c4c-5858-4b02-9906-390e34561bf3
    networkV2Response:
      description: A layer 3 network.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networkV2Read'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: my-network
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              dnsNameservers:
              - 8.8.8.8
            status:
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              prefix: 192.168.0.0/24
    networksV2Response:
      description: A list of layer 3 networks.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/networksV2Read'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: my-network
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              dnsNameservers:
              - 8.8.8.8
            status:
              regionId: d891dbf0-0a01-4efc-ae3a-5d77f6d3424b
              prefix: 192.168.0.0/24
    externalNetworksResponse:
      description: A list of valid external networks.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/externalNetworks'
          example:
          - id: c3f92716-1fdc-4b7b-906e-4fe0154dfcdf
            name: foo
    securityGroupResponse:
      description: A security group.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupRead'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              rules:
              - direction: ingress
                protocol: tcp
                port:
                  number: 80
                cidr: 172.16.0.0/12
    securityGroupsResponse:
      description: A list of security groups.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupsRead'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              rules:
              - direction: ingress
                protocol: tcp
                port:
                  number: 80
                cidr: 172.16.0.0/12
    securityGroupV2Response:
      description: A security group.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupV2Read'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              rules:
              - direction: ingress
                protocol: tcp
                port: 80
                cidr: 172.16.0.0/12
            status:
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              networkId: 61f0ad85-3001-41cb-824a-e6a047668dfe
    securityGroupsV2Response:
      description: A list of security groups.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/securityGroupsV2Read'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: undefined
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              rules:
              - direction: ingress
                protocol: tcp
                port: 80
                cidr: 172.16.0.0/12
            status:
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              networkId: 61f0ad85-3001-41cb-824a-e6a047668dfe
    serverResponse:
      description: A server.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serverRead'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: server-name
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
              tags:
              - name: tag-name
                value: tag-value
            spec:
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              securityGroups:
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9e
              publicIPAllocation:
                enabled: true
              networks:
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=
            status:
              phase: Running
              privateIP: 192.168.1.50
              publicIP: 142.250.66.196
    serversResponse:
      description: A list of servers.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serversRead'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: server-name
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
              tags:
              - name: tag-name
                value: tag-value
            spec:
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              securityGroups:
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9e
              publicIPAllocation:
                enabled: true
              networks:
              - id: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=
            status:
              phase: Running
              privateIP: 192.168.1.50
              publicIP: 142.250.66.196
    serverV2Response:
      description: A server.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serverV2Read'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: server-name
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
              tags:
              - name: tag-name
                value: tag-value
            spec:
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              metworking:
                securityGroups:
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9d
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9e
                publicIP: true
                allowedSourceAddresses:
                - 192.168.192.0/24
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=
            status:
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              networkId: 61f0ad85-3001-41cb-824a-e6a047668dfe
              powerState: Running
              privateIP: 192.168.1.50
              publicIP: 142.250.66.196
    serversV2Response:
      description: A list of servers.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/serversV2Read'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: server-name
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
              tags:
              - name: tag-name
                value: tag-value
            spec:
              flavorId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              imageId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              metworking:
                securityGroups:
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9d
                - 9a8c6370-4065-4d4a-9da0-7678df40cd9e
                publicIP: true
                allowedSourceAddresses:
                - 192.168.192.0/24
              userData: I2Nsb3VkLWNvbmZpZwpib290Y21kOgogLSBlY2hvIDE5Mi4xNjguMi45OSBteWhvc3QgPj4gL2V0Yy9ob3N0cwpwYWNrYWdlX3VwZ3JhZGU6IHRydWUKcGFja2FnZXM6CiAtIHZpbQo=
            status: 
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              networkId: 61f0ad85-3001-41cb-824a-e6a047668dfe
              powerState: Running
              privateIP: 192.168.1.50
              publicIP: 142.250.66.196
    consoleSessionResponse:
      description: A console session response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/consoleSession'
          example:
            url: https://compute.glo1.dev.nscale.com:6080/vnc_lite.html?path=%3Ftoken%3Dc64ef8be-2e90-4914-83a8-61728664b770
    consoleOutputResponse:
      description: A console output response.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/consoleOutput'
          example:
            contents: |-
              Linux version 5.15.0-1086-kvm (buildd@lcy02-amd64-053) (gcc (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0, GNU ld (GNU Binutils for Ubuntu) 2.38) #91-Ubuntu SMP Mon Aug 4 18:41:47 UTC 2025 (Ubuntu 5.15.0-1086.91-kvm 5.15.185)
              Command line: BOOT_IMAGE=/boot/vmlinuz-5.15.0-1086-kvm root=PARTUUID=16a95af3-5f57-4321-a6af-d006cccb7d04 ro console=tty1 console=ttyS0 panic=-1
    sshKeyResponse:
      description: An SSH key.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/sshKey'
          example:
            privateKey: |-
              -----BEGIN OPENSSH PRIVATE KEY-----
              b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAAAMwAAAAtz
              c2gtZWQyNTUxOQAAACCtvR5BFiAX6+UGoPw/uG/U1Da+iN1lNHYWzk8YhPOeUwAA
              AKAhzCVJIcwlSQAAAAtzc2gtZWQyNTUxOQAAACCtvR5BFiAX6+UGoPw/uG/U1Da+
              iN1lNHYWzk8YhPOeUwAAAEClYjYgxFjEM4qh3sl7IS2dpBzSxkRT0NTy9ILygiaA
              tq29HkEWIBfr5Qag/D+4b9TUNr6I3WU0dhbOTxiE855TAAAAHXVuaWtvcm4gZXBo
              ZW1lcmFsIGVkMjU1MTkga2V5
              -----END OPENSSH PRIVATE KEY-----
    storageV2Response:
      description: A storage.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/storageV2Read'
          example:
            metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: storage-name
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
              tags:
              - name: tag-name
                value: tag-value
            spec:
              sizeGiB: 200
              storageType:
                nfs:
                  rootsquash: true
              attachments:
                networkIds:
                  - 903b5fba-8eb0-4016-a854-b8f716bcd9bb
            status:
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              storageClassId: 99659b44-1700-400f-9c6c-cfdb4bb0445c
              usage:
                  capacityBytes: 107374182400
                  usedBytes: 94489280512
              attachments:
                - networkId: 903b5fba-8eb0-4016-a854-b8f716bcd9bb
                  mountSource: 10.0.0.16:/mnt/nfs
                  provisioningStatus: provisioned
    storageListV2Response:
      description: A list of storages.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/storageV2List'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: storage-name
              organizationId: 9a8c6370-4065-4d4a-9da0-7678df40cd9d
              projectId: e36c058a-8eba-4f5b-91f4-f6ffb983795c
              creationTime: 2024-05-31T14:11:00Z
              createdBy: john.doe@acme.com
              provisioningStatus: provisioned
              healthStatus: healthy
              tags:
              - name: tag-name
                value: tag-value
            spec:
              sizeGiB: 200
              storageType:
                nfs:
                  rootsquash: true
              attachments:
                networkIds:
                  - 903b5fba-8eb0-4016-a854-b8f716bcd9bb
            status:
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              storageClassId: 99659b44-1700-400f-9c6c-cfdb4bb0445c
              usage:
                  capacityBytes: 107374182400
                  usedBytes: 94489280512
              attachments:
                - networkId: 903b5fba-8eb0-4016-a854-b8f716bcd9bb
                  mountSource: 10.0.0.16:/mnt/nfs
                  provisioningStatus: provisioned
    storageClassListV2Response:
      description: A list of storage classes.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/storageClassListV2Read'
          example:
          - metadata:
              id: a64f9269-36e0-4312-b8d1-52d93d569b7b
              name: storage-class-name
              creationTime: 2024-05-31T14:11:00Z
              description: A small description of the storage class.
              provisioningStatus: provisioned
              healthStatus: healthy
            spec:
              regionId: ba39bff5-b0d8-4c60-89e5-ed1104356b4a
              protocols: 
                - nfsv3
                - nfsv4
  securitySchemes:
    oauth2Authentication:
      description: Operation requires OAuth 2.0 bearer token authentication.
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://identity.nks.europe-west4.nscale.com/oauth2/v2/authorization
          tokenUrl: https://identity.nks.europe-west4.nscale.com/oauth2/v2/token
          scopes: {}
